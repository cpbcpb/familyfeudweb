{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{% static 'base/css/bootstrap.min.css' %}">
    <title>Game Board</title>
    <link href="{% static 'base/css/lorafont.css' %}" rel="stylesheet">
</head>
<body>
<div id="app">
    <div v-if="state.display_winner_screen" class="congrats">
        <div>
        <div class="congrats-text "data-text="Congratulations, ">Congratulations,</div>
        <div class="congrats-text" v-bind:data-text="state.winner_name + '!'">[[state.winner_name]]!</div>
        </div>
        <div class="congrats-img">
            <img src="{% static 'base/realauctioncountyfeudedition.png'%}">
        </div>
    </div>
    <div id="logo-background" v-if="(state.no_active_games )|| (state.display_logo)">
    </div>
    <div id="game-background" v-if="!state.display_logo && !state.is_fast_money">

        <div v-if="!state.no_active_games && !state.is_fast_money && !state.display_logo">
            <div id="regular-game" v-if="!state.is_fast_money && !state.display_logo">
                <div class="score-row">
                    <div id="score-left" class="score">
                        [[state.team_1_score]]
                    </div>
                <div id="score-top" class="score">
                    <span v-show="!state.points_awarded">[[state.question_total]]</span>
                    <img v-show="state.points_awarded" src="{% static 'base/screenshotLogoV2.png' %}" alt="logo">
                </div>
                    <div  id="score-right" class="score" v-if="!state.display_logo">
                        [[state.team_2_score]]
                    </div>
                </div>
                <div id="outer-board">

                    <div class="game-grid">
                        <div class="game-column">
                        <div class="answer-box" v-if="sortedAnswers[0]"  v-bind:class="{flippy : sortedAnswers[0].currently_displayed}">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <transition name="number1" appear >
                                        <div class="number" >1</div>
                                    </transition>
                                </div>
                                <div class="flip-card-back">
                                    <div class="answer-text" v-bind:class="{short : sortedAnswers[0].answer_text.length<9}" >[[sortedAnswers[0].answer_text]]</div>
                                    <div class="answer-points">[[sortedAnswers[0].point_value]]</div>
                                </div>
                            </div>
                        </div>
                        <div v-else  class="answer-box">
                        </div>


                        <div class="answer-box" v-if="sortedAnswers[1]"  v-bind:class="{flippy : sortedAnswers[1].currently_displayed}">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <transition name="number2" appear >
                                        <div class="number" >2</div>
                                    </transition>
                                </div>
                                <div class="flip-card-back">
                                    <div class="answer-text" v-bind:class="{short : sortedAnswers[1].answer_text.length<9}">[[sortedAnswers[1].answer_text]]</div>
                                    <div class="answer-points">[[sortedAnswers[1].point_value]]</div>
                                </div>
                            </div>
                        </div>
                        <div v-else  class="answer-box">
                        </div>
                        <div class="answer-box" v-if="sortedAnswers[2]" v-bind:class="{flippy : sortedAnswers[2].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                        <transition name="number3" appear >
                                            <div class="number" >3</div>
                                        </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[2].answer_text.length<9}">[[sortedAnswers[2].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[2].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                        <div class="answer-box" v-if="sortedAnswers[3]" v-bind:class="{flippy : sortedAnswers[3].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    <transition name="number4" appear >
                                        <div class="number" >4</div>
                                    </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[3].answer_text.length<9}">[[sortedAnswers[3].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[3].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                        </div>
                        <div class="game-column">
                                    <div class="answer-box" v-if="sortedAnswers[4]" v-bind:class="{flippy : sortedAnswers[4].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    <transition name="number5" appear >
                                        <div class="number" >5</div>
                                    </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[4].answer_text.length<9}">[[sortedAnswers[4].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[4].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                            <div class="answer-box" v-if="sortedAnswers[5]" v-bind:class="{flippy : sortedAnswers[5].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    <transition name="number6" appear >
                                        <div class="number" >6</div>
                                    </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[5].answer_text.length<9}">[[sortedAnswers[5].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[5].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                        <div class="answer-box" v-if="sortedAnswers[6]" v-bind:class="{flippy : sortedAnswers[6].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    <transition name="number7" appear >
                                        <div class="number" >7</div>
                                    </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[6].answer_text.length<9}">[[sortedAnswers[6].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[6].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                        <div class="answer-box" v-if="sortedAnswers[7]" v-bind:class="{flippy : sortedAnswers[7].currently_displayed}">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                    <transition name="number8" appear >
                                        <div class="number" >8</div>
                                    </transition>
                                    </div>
                                    <div class="flip-card-back">
                                            <div class="answer-text" v-bind:class="{short : sortedAnswers[7].answer_text.length<9}">[[sortedAnswers[7].answer_text]]</div>
                                            <div class="answer-points">[[sortedAnswers[7].point_value]]</div>
                                    </div>
                                </div>
                            </div>
                            <div v-else  class="answer-box">
                            </div>
                        </div>
                        <strikes 
                            v-bind:show_total_wrong="state.show_total_wrong" 
                            v-bind:total_wrong="state.total_wrong" 
                            v-bind:show_single_x="state.show_single_x">
                        </strikes>
                    </div>

                </div>
            </div>
        </div>
    </div>
        <div id="fast-money-game" v-if="state.is_fast_money && !state.display_logo">
                <div class="fast-money-grid" v-if="!state.display_logo">
                    <div class="fast-money-big-row">
                        <div class="fm-column fm-column-left">
                            <div class="fm-row name">
                                <span>[[state.team_1_name]]<span>
                            </div>
                            <div class="fm-row" v-for="question in state.fast_money.questions">
                                <div class="fm-box fm-answer-box">
                                    <span v-if="question.player_1_answer.display_answer" class="fm-typing">[[question.player_1_answer.answer_text]]</span>
                                </div>
                                <div class="fm-box fm-points-box">

                                {% comment %} <div class="blinky" v-show="question.player_1_answer.display_answer && !question.player_1_answer.display_value"></div>
                                {% endcomment %}
                                <span v-show="question.player_1_answer.display_value">[[question.player_1_answer.point_value]]</span>
                                </div>
                            </div>

                        </div>
                        <div class="fm-column fm-column-right">
                            <div class="fm-row name">
                                <span>[[state.team_2_name]]<span>
                            </div>
                            <div class="fm-row" v-for="question in state.fast_money.questions">
                                <div class="fm-box fm-answer-box">
                                <span v-if="question.player_2_answer.display_answer" class="fm-typing" >[[question.player_2_answer.answer_text]]</span>
                                </div>
                                <div class="fm-box fm-points-box">

                                {% comment %} <div class="blinky" v-show="question.player_2_answer.display_answer && !question.player_2_answer.display_value"></div> {% endcomment %}

                                <span v-show="question.player_2_answer.display_value">[[question.player_2_answer.point_value]]</span>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="fm-total-row">
                        <div id= "fm-total-1" class="fm-box">
                            <div> TOTAL</div>
                            <div v-if="!p1FinalTotal">[[fastMoneyPlayer1Total]]</div>
                            <div v-else>[[p1FinalTotal]]</div>
                        </div>
                        <timer
                            v-bind:timer="state.fast_money.timer"
                            v-bind:display_timer="state.fast_money.display_timer"
                            v-bind:start_timer="state.fast_money.start_timer"
                            v-bind:stop_timer="state.fast_money.stop_timer"
                        >
                        </timer>
                        <div id="fm-total-2" class="fm-box">
                            <div> TOTAL</div><div>[[fastMoneyPlayer2Total]]</div>
                        </div>
                    </div>
                </div>

        </div>
    </div>
</body>

<script src="{% static 'base/js/vue.min.js' %}"></script>
<script>
    Vue.component('strikes', {
        delimiters:['[[', ']]'],
        data: function(){
            return {
            }
        },
        //In the dom these must be refered to in kebab case number-wrong, show-x, show-one-x.
        props: ['total_wrong', 'show_total_wrong', 'show_single_x'],
        template:
        `
            <div class="strikes row" v-show="show_total_wrong || show_single_x">
                <img v-show="total_wrong>0 || show_single_x" class="col-4" src="{% static 'base/strike.png' %}" alt="strike">
                <img v-show="total_wrong>1 && !show_single_x" class="col-4" src="{% static 'base/strike.png' %}" alt="strike">
                <img v-show="total_wrong>2 && !show_single_x" class="col-4" src="{% static 'base/strike.png' %}" alt="strike">
            </div>
        `
    })
    Vue.component('timer', {
        delimiters:['[[', ']]'],
        data: function(){
            return {
                time_remaining: "",
                //set the timer's interval here so that it can be cleared each time it is reset.
                interval: null,
            }
        },
        //In the dom these must be refered to in kebab case number-wrong, show-x, show-one-x.
        props: ['timer', 'display_timer', 'start_timer', 'stop_timer'],
        template:
        `
            <div class="timer" v-show="display_timer">
                [[time_remaining]]
            </div>
        `,
        watch: {
            display_timer: function(newBoolean, oldBoolean){
                //plays a sound when new board is revealed in regular round
                if( newBoolean === true && oldBoolean === false){
                    let interval;
                    if('this.timer>0'){
                        this.time_remaining = this.timer
                    }
                    clearTimeout(interval);
                    app.playSound(app.ding, 1040)
                }
            },
            start_timer: function(){//this triggers whenever start_timer changes
                if(this.start_timer === true){
                    //Clear the interval so timer will work properly if stopped and started multiple times.
                    clearInterval(this.interval)
                    //Set time_remaining.
                    this.time_remaining=this.timer;
                    //To use component scope inside the set interval function.
                    const self = this;
                    this.interval = setInterval(function(){
                        if(self.time_remaining > 0 && !self.stop_timer){
                            self.time_remaining--;
                            if(self.time_remaining === 0){
                                app.playSound(app.timerFM, 1600);
                            }
                        }
                        else{
                            clearInterval(self.interval);
                            self.interval=null;
                        }
                    },1000)
                }
            },
        }
    })
    var app = new Vue({
        delimiters: ['[[', ']]'],
        el: '#app',
        data: {
            displaySocket: new WebSocket(
                'ws://' + window.location.host + '/ws/display_answer/'
            ),
            //when logo is hidden and new board is shown in regular round.
            boardRefresh: new Audio('{% static 'base/board-refresh.mp3' %}'),
            strike: new Audio('{% static 'base/strike.mp3' %}'),
            //regular round answer is revealed
            reveal: new Audio('{% static 'base/reveal.mp3' %}'),
            fmRevealText: new Audio('{% static 'base/fastmoney-showtext.mp3' %}'),
    
            //These sounds will need to be done from soundboard when appropriate, are not automatic
            //hand-buzzer
            //stinger-win-game
            //stinger-podium
            //sounds below here to be replaced
            // Sound that plays with wrong answers.
            timerFM: new Audio('{% static 'base/timerFM.mp3' %}'),
            //Ding is the sound that plays when an answer is revealed.
            ding: new Audio('{% static 'base/belldesk.mp3' %}'),
            //fast money reveal answer
            fmRevealPoints: new Audio('{% static 'base/reveal-fastmoney.mp3' %}'),
            fmRevealZero: new Audio('{% static 'base/buzz.mp3' %}'),
            fmOutOfTime: new Audio('{% static 'base/buzz.mp3' %}'),
            //player 1's final total in fast money round.
            p1FinalTotal: 0,
            state: {display_logo: true},
        },
        methods: {
            receiveMessage: function (e) {
                let data = JSON.parse(e.data);
                this.state = data.state;
                this.showX();
            },
            showX : function () {
                let timeToShowX = 800;
                if( this.state.show_single_x || 
                (this.state.show_total_wrong == true && this.state.total_wrong>0) ) {
                    this.strike.play();
                    xInterval = setTimeout(function(){
                    //Stops showing X and stops playing sound.
                        app.strike.pause();
                        //tells sound to reset to begining of mp3.
                        app.strike.currentTime = 0;
                        app.state.show_single_x = false;
                        app.state.show_total_wrong = false;
                    }, timeToShowX);
                }
            },
            //Use the sound instance name from the data object
            playSound: function(sound, duration){
                sound.play();
                    let interval = setTimeout(function(){
                    //stops sound before end of recording.
                    sound.pause();
                    //tells sound to reset to begining of mp3.
                    sound.currentTime = 0;
                    }, duration);
            }
        },
        computed: {
            display_logo: function(){
                return this.state.display_logo;
            },
            sortedAnswers: function() {
                //avoids errors during pageload
                if(typeof this.state.current_answers !== "undefined"){
                    //sort answers by point value descending.
                    let arraySorted = this.state.current_answers.sort((a,b) => 
                    (a.point_value > b.point_value) ? -1 : 1 )

                    /*Also add a space around any slash / characters 
                    to avoid unnecessary long words that mess up formatting.*/
                    arraySorted.forEach(function(answer){
                        let answerLetterArray = answer.answer_text.split("");
                        answerLetterArray.forEach(function(letter, index){
                            if(letter =="/"){
                                if(answerLetterArray[index-1]!=" "){
                                    answerLetterArray.splice(index, 0, " ");
                                }
                                if(answerLetterArray[index+1]!=" "){
                                    answerLetterArray.splice(index+1, 0, " ")
                                }
                            }
                        })
                        answer.answer_text = answerLetterArray.join("")
                    })
                    return arraySorted
                }
            },
            sortedFastMoneyQuestions: function(){
                if(this.state.is_fast_money){
                    let arraySorted = this.state.fast_money.questions.sort((a,b) =>
                    (a.order > b.order) ? 1 : -1 );
                    return arraySorted
                }
            },
            fastMoneyPlayer1Total : function(){
                if(this.state.is_fast_money){
                    let total = 0;
                    let showCounter = 0;
                    this.state.fast_money.questions.forEach(function(question){
                        if(question.player_1_answer.display_value){
                            showCounter++;
                            total += question.player_1_answer.point_value;
                        }       
                    })
                    if(showCounter >= this.state.fast_money.questions.length){
                        app.p1FinalTotal = total;
                    }
                    return total;
                }
            },
            fastMoneyPlayer2Total : function(){
                if(this.state.is_fast_money){
                    let total = 0;

                    this.state.fast_money.questions.forEach(function(question){
                        if(question.player_2_answer.display_value){
                            total += question.player_2_answer.point_value;
                        }
                    })
                    return total;
                }
            }
        },
        watch: {
            display_logo: function(newBoolean, oldBoolean){
                //plays a sound when new board is revealed in regular round
                if( newBoolean === false && oldBoolean === true && this.state.is_fast_money===false){
                    let interval;
                    clearTimeout(interval);
                    app.playSound(app.boardRefresh, 1040)
                }
            },

            //Watching sorted answers to see if should reveal a newly displayed answer with flip animation and ding sound
            sortedAnswers: function(newAnswers, oldAnswers){
                if(typeof oldAnswers !== "undefined"){
                    let interval;
                    clearTimeout(interval);
                    //This plays a ding sound when an answer is revealed (or any other change to 
                    //sortedAnswers but this is the only expected change scenario)
                    for( i = 0; i < newAnswers.length; i++){
                        if(newAnswers[i].currently_displayed===true && oldAnswers[i].currently_displayed===false){
                            app.playSound(app.reveal, 1040)
                        }
                    }
                }
            },
            sortedFastMoneyQuestions: function(newQuestions, oldQuestions){
                if((typeof oldQuestions !== "undefined") && (typeof newQuestions !=="undefined")){
                    for(i=0; i < newQuestions.length; i++){
                        //play sound on reveal player 1 or player 2 answer text
                        if(
                            (newQuestions[i].player_1_answer.display_answer===true && oldQuestions[i].player_1_answer.display_answer===false) ||
                            (newQuestions[i].player_2_answer.display_answer===true && oldQuestions[i].player_2_answer.display_answer===false)
                        ){
                            app.playSound(app.fmRevealText,1040)
                        }
                        //play sound on reveal player 1 or 2 points
                        else if(newQuestions[i].player_1_answer.display_value===true && oldQuestions[i].player_1_answer.display_value===false){
                            if(newQuestions[i].player_1_answer.point_value === 0){
                                app.playSound(app.fmRevealZero, 800)
                            }
                            else if(newQuestions[i].player_1_answer.point_value>0){
                                app.playSound(app.fmRevealPoints, 1040)
                            }
                        }
                        else if(newQuestions[i].player_2_answer.display_value===true && oldQuestions[i].player_2_answer.display_value===false){
                            if(newQuestions[i].player_2_answer.point_value===0){
                                app.playSound(app.fmRevealZero, 800)
                            }
                            else if(newQuestions[i].player_2_answer.point_value>0){
                                app.playSound(app.fmRevealPoints, 1040)
                            }
                        }
                    }
                }
            }
        }
    })

    app.displaySocket.onmessage = function(e) {
        app.receiveMessage(e);
    }
    app.state = {{state}};

</script>

{% comment %} 

    LOGO:
        TEXT:
            top of text fade orange:       #f26521
            bottom of text fade yello:    #fef041
        BACKGROUND:
            flat middle blue:               #4c6db4


{% endcomment %}
<style>

    #app {
        display: flex;
        flex-direction: column;
        position: fixed;
        justify-content: center;
        align-items: center;
        height: 100vh;
        width: 100vw;
        background-color:black;
        font-family: arial;
    }

    {% comment %} .logo-oval {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        width: 700px;
        height: 375px;
        border-radius: 700px / 375px;
        border: 15px solid  #5d361b;
        position: relative;
        background-color: #a44704;
        z-index: 1;
        box-shadow: 
            0 -6.25px 0px 0 dodgerblue,
            12.5px 17.5px 12.5px black ;
    }
    .logo-oval:before {
        background-image: radial-gradient(lightblue, darkblue),url('{% static 'base/logobg2.png' %}');
        background-blend-mode: soft-light;
        background-size: 97%;
        content: "";
        display: block;
        border: 5px solid lightcyan;
        border-radius: 750px / 375px;
        position: absolute;
        top: 1.25px;
        left: 1.25px;
        right: 1.25px;
        bottom: 1.25px;
        z-index: -2;
    } {% endcomment %}

    .congrats {
        padding-top: 35px;
        position: absolute;
        display: flex;
        flex-direction: column;
        background-image: radial-gradient(lightblue, darkblue),url('{% static 'base/backgroundslow.gif' %}');
        background-blend-mode: soft-light;
        justify-content: space-between;
        align-items: center;
        height: 600px;
        width: 800px;
        text-align: center;
        background-image: 
        background-color: rgb(0,0,255);
        z-index: -4;
        {% comment %} box-shadow: 
            0 -6.25px 0px 0 dodgerblue,
            12.5px 17.5px 12.5px black ; {% endcomment %}
    }
    .congrats-img img {
        width: 500px;


    }
.congrats-img {
        background-color:darkblue;
        width: 800px;

    } 
    .congrats div {
        display: flex;
        flex-direction: column;
        justify: center;
        align-items: center;
    }
    .congrats-text {
        text-transform: uppercase;
        font: 900 70px/1.25em Lora, Times, "Times New Roman", serif;
        -webkit-text-stroke: 2.5px #6c0400;
        paint-order:stroke fill;
        background-image: -webkit-linear-gradient(#fc6006, #fef53e);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        position: relative;
        max-width: max-content;
        text-align: center;
    }
    .congrats-text::after {
        content: attr(data-text);
        position: absolute;
        left: 0;
        top: 0;
        text-shadow: 2.5px 2.5px 0 #bcbcbc, 8px 10px 6.5px black;
        -webkit-text-stroke: 6.25px #f7c6c9;
        paint-order: stroke fill;
        z-index: -3;
        text-align: center;
    }

    .logo-text-box {
        position: absolute;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-top: -20px;
    }


    .logo-text-box div span {
        font: 900 140px/.75em Lora, Times, "Times New Roman", serif;
        vertical-align: 0px;
        -webkit-text-stroke: 2.5px #6c0400;
        paint-order:stroke fill;
        display: inline-block;
        background-image: -webkit-linear-gradient(#fc6006, #fef53e);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        position:relative;
    }
    .logo-text-box div span::after {
        display: inline-block;
        content: attr(data-text);
        position: absolute;
        left: 0;
        top: 0;
        text-shadow: 2.5px 2.5px 0 #bcbcbc, 8px 10px 6.5px black;
        -webkit-text-stroke: 6.25px #f7c6c9;
        paint-order: stroke fill;
        z-index: -1;
    }
    .first-letter {
        font-size: 200px !important;
        vertical-align: -20px !important;
    }
    .y {
        font-size: 150px !important;
        vertical-align: 22px !important;
        line-height: 1.3em !important;
    } 

 #logo-background {
        display: flex;
        flex-direction: column;
        justify-content:center;
        align-items: center;
        width: 800px;
        height: 600px; 
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
        background-image: url('{% static 'base/finallogo.png' %}');
        z-index: -7;
    } 

 #game-background {
        display: flex;
        flex-direction: column;
        justify-content:center;
        align-items: center;
        width: 800px;
        height: 600px;  
        background-image: url('{% static 'base/finalregulargamebg.jpg' %}');
        background-repeat: no-repeat;
        background-position: center;
        background-size: 950px 600px;
        z-index: -6;
    } 


    #regular-game {
        margin-top:50px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        height:600px;
        width: 1080px;
    }

    #outer-board {
        margin-top:5px;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: flex-start;
        width:1000px;
        height:430px;

    }
    .score-row {
        display: flex;
        flex-direction: row;
        width:100%;
        justify-content:center;
        align-items: flex-end;
    }
    .score {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-content: center;
        align-items: center;
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px black;
        padding:0px;
        line-height:1em;
        border-style:solid;
        border-color:black;
        background-color: darkblue;
        border-width: 5px;
        border-radius:10px;

    }
    #score-top {
        width:190px;
        padding: 18px 68px 20px 68px;
        height: 130px;
        font-size:65px;
    }
    #score-top img {
        width: 190px;
        repeat: no-repeat;
        
    }
    #score-left {
        font-size:40px;
        width:90px;
        height:90px;
        display: flex;
        flex-direction: row;
        margin-right: 30px;

    }
    #score-right {
        font-size:40px;
        width:90px;
        height:90px;
        display: flex;
        flex-direction: row;
        margin-left: 30px;
    }
    .game-grid {
        width: 640px;
        height: 390px;
        display: flex;
        background-color:black;
        border-radius:10px;
        flex-direction: row;
        justify-content: space-evenly;
        border-radius: 9px;
    }


    .game-column {
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: center;
        width: 310px;
    }

{% comment %} The following classes number1 through number8 make the transition animation 
for the initial reveal of the game board in a regular round. {% endcomment %}
    .number1-enter{
        opacity: 0;
    }
    .number1-enter-active{
        transition: opacity .1s;
    }
    .number2-enter{
        opacity: 0;
    }
    .number2-enter-active{
        transition: opacity .1s;
        transition-delay: .1s;
    }
    .number3-enter{
        opacity: 0;
    }
    .number3-enter-active{
        transition: opacity .1s;
        transition-delay: .2s;
    }
    .number4-enter{
        opacity: 0;
    }
    .number4-enter-active{
        transition: opacity .1s;
        transition-delay: .3s;
    }
    .number5-enter{
        opacity: 0;
    }
    .number5-enter-active{
        transition: opacity .1s;
        transition-delay: .4s;
    }
    .number6-enter{
        opacity: 0;
    }
    .number6-enter-active{
        transition: opacity .1s;
        transition-delay: .5s;
    }
    .number7-enter{
        opacity: 0;
    }
    .number7-enter-active{
        transition: opacity .1s;
        transition-delay: .6s;
    }
    .number8-enter{
        opacity: 0;
    }
    .number8-enter-active{
        transition: opacity .1s;
        transition-delay: .7s;
    }

    .answer-box {
        background-image: radial-gradient(lightblue, dodgerblue, blue);
        border-style: double;
        border-color: lightgrey;
        border-width: 10px;
        width: 100%;
        height: 84px;
        perspective: 1000px;
    }
    .answer-text {
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding-bottom: 3px;
        color: white;
        text-transform: uppercase;
        text-shadow: 2px .5px #000000;
        font-size: 26px;
        background-image: linear-gradient(dodgerblue, blue, darkblue );
        height: 100%;
        width: 85%;
        line-height: .95em;
        overflow:hidden;
    }
    .short {
        font-size:36px;
    }
    .answer-points {
        color: white;
        text-shadow: 2px 1px #000000;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        display: flex;
        font-size: 32px;
        text-align: center;
        font-weight: bold;
        width: 15%;
    }
    .number {
        background-color:darkblue;
        color:white;
        border-style: solid;
        border-color: grey;
        border-radius: 50%;
        font-size: 48px;
        font-weight: bold;
        text-align: center;
        vertical-align: top;
        line-height: 1em;
        width: 68px; 
        height: 55px;
    }

    .strikes {
        position: fixed;
        display: flex;
        justify-content: center;
        flex-direction: row;
        align-self: center;
        width: inherit;
    }

    .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    }

    .flippy .flip-card-inner {
        transform: rotateX(180deg);
    }

    .flip-card-front, .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
    }

    .flip-card-front {
        display:flex;
        justify-content: center;
        align-items: center;
    }
    .flip-card-back {
        display: flex;
        flex-direction: row;
        transform: rotateX(180deg);
    }

    #fast-money-game {
        background-color:black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        background-image: url('{% static 'base/finalfmbg.png' %}');
        width: 1200px;
        height: 600px;
        background-size: 1015px 620px;
        background-repeat: no-repeat;
        background-position: center;
        z-index: -5;
    }

    .name  {
        font: 600 40px/.75em 'Arial' !important;
        text-transform: uppercase;
        color:lightblue;

    }
    .center-logo-fm {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
    }
    {% comment %} .center-logo-fm .logo-oval {
    width: 750px;
    } {% endcomment %}

    .fast-money-grid {
        font-family:  'Gill Sans Condensed', 'Arial Narrow', arial;
        font-weight:500;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: space-between;
        border-color: #2c99fa;
        border-style: double;
        border-width: 30px;
        border-radius: 50px;
        padding: 20px 10px 40px 10px;
        background-color:darkblue;
        width: 790px;
        height: 570px;
    
    }
    .fm-column {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        width: 50%;
    }
    .fm-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-content: center;
        width: 100%;
        padding: 8px 0 8px 0;
    }
    .fm-box {
        display: flex;
        align-items: center;
        color: white;
        background-color: black;
        margin: 1px;
        font-size : 28px;
        padding-left: 8px;
        padding-right: 8px;
        padding-top: 0px;
        padding-bottom:0px;
        text-transform: uppercase;
        border-radius: 5px;
        height: 50px;
    }
    .fm-answer-box {
        width:78%;
    }
    .fm-points-box {
        display: flex;
        align-content: center;
        justify-content: center;
        width: 18%;
    }
    .fast-money-big-row {
        display: flex;
        flex-direction: row;
        width: 100%;
    }

    {% comment %} .blinky {
        height: 100%;
        width: 100%;
        animation-delay: 1.5s;
        animation: blink .8s infinite;
    }
    @keyframes blink {
        0%{background-color: black}
        45%{background-color: black}
        55%{background-color: red}
        90%{background-color: red}
    } {% endcomment %}

    .fm-total-row {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 10px;
        margin-left: 4px;
        margin-right: 4px;
    }
    #fm-total-1 {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        width: 30%;
        padding: 0 10px 0 10px;
        height: 50px;
    }
    #fm-total-2 {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        width: 30%;
        padding: 0 10px 0 10px;
        height: 50px;
    }

    .timer {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        width: 120px;
        height: 90px;
        background-color:darkblue;
        color:white;
        border-style: solid;
        border-color: #1f3ebf;
        border-width: 10px;
        border-radius: 50%;
        font-size: 56px;
        font-weight: bold;
        margin-bottom: -75px;
        line-height: 1.3em;
    }

    .fm-typing {
  white-space: nowrap;
  overflow: hidden;
  width: 30em;
  animation: type 1.5s steps(60, end); 
}

@keyframes type{ 
  from { width: 0; } 
} 

</style>
</html>